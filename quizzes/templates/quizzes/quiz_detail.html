{% extends 'base.html' %} {% block content %}

<div class="max-w-3xl mx-auto p-8 bg-white rounded-2xl shadow-lg mt-10">
  <h1 class="text-3xl font-bold text-indigo-700 mb-4">{{ quiz.title }}</h1>
  {% if quiz.description %}
  <p class="text-gray-600 mb-6">{{ quiz.description }}</p>
  {% endif %}

  <form
    method="POST"
    action="{% url 'submit_quiz' quiz.id %}"
    class="space-y-8"
  >
    {% csrf_token %}

    <!-- User Name -->
    <div>
      <label for="user_name" class="block font-medium text-gray-700 mb-2"
        >Your Name:</label
      >
      <input
        type="text"
        id="user_name"
        name="user_name"
        placeholder="Enter your name"
        class="w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
        required
      />
    </div>

    <!-- Questions Section -->
    {% for question in quiz.questions.all %}
    <div class="border-b border-gray-200 pb-6">
      <h2 class="text-lg font-semibold text-gray-800 mb-3">
        {{ forloop.counter }}. {{ question.text }}
      </h2>
      <div class="space-y-2">
        {% for answer in question.answers.all %}
        <label
          class="flex items-center space-x-3 cursor-pointer bg-gray-50 hover:bg-gray-100 rounded-lg p-2 transition"
        >
          <input
            type="radio"
            name="question_{{ question.id }}"
            value="{{ answer.id }}"
            class="text-indigo-600 focus:ring-indigo-500"
          />
          <span class="text-gray-700">{{ answer.text }}</span>
        </label>
        {% endfor %}
      </div>
    </div>
    {% empty %}
    <p class="text-gray-500">No questions available for this quiz.</p>
    {% endfor %}

    <!-- Submit Button -->
    <div class="text-center">
      <button
        type="submit"
        class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-lg shadow-md mt-6 transition"
      >
        Submit Quiz
      </button>
    </div>
  </form>
</div>

{% endblock %}
