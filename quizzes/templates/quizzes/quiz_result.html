{% extends 'base.html' %}
{% block content %}
<div class="max-w-3xl mx-auto bg-white p-8 rounded-2xl shadow my-12">
  <h1 class="text-3xl font-bold text-blue-600 mb-6">
    Result for {{ submission.user_name }}
  </h1>

  <div class="mb-4">
    <p><strong>Quiz:</strong> {{ submission.quiz.title }}</p>
    <p><strong>Score:</strong> {{ submission.score }}</p>
    <p>
      <strong>Submitted:</strong>
      {{ submission.submitted_at|date:"F j, Y, g:i a" }}
    </p>
  </div>

  <div class="mt-8">
    <h2 class="text-xl font-semibold mb-3 text-gray-800">Answers</h2>
    <ul class="space-y-4">
      {% for ua in user_answers %}
      <li
        class="p-4 border rounded-lg {% if ua.is_correct %}bg-green-100 border-green-400{% else %}bg-red-100 border-red-400{% endif %}"
      >
        <p class="font-semibold text-gray-800">
          {{ forloop.counter }}. {{ ua.question.text }}
        </p>
        <p>
          Your Answer: <span class="font-medium">{{ ua.answer.text }}</span>
        </p>
        {% if not ua.is_correct %}
        <p>
          âœ… Correct Answer:
          {% for a in ua.question.answers.all %}
            {% if a.is_correct %}
              <span class="font-semibold text-green-700">{{ a.text }}</span>
            {% endif %}
          {% endfor %}
        </p>
        {% endif %}
      </li>
      {% empty %}
      <li>No answers found.</li>
      {% endfor %}
    </ul>
  </div>

  <div class="text-center mt-10">
    <a
      href="{% url 'quiz_list' %}"
      class="px-5 py-3 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700"
    >
      Back to Quizzes
    </a>
  </div>
</div>
{% endblock %} 